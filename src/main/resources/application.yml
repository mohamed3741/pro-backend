hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 8000
        timeout:
          enabled: false
      fallback:
        enabled: true

javamelody:
  enabled: true
  init-parameters:
    log: true
    storage-directory: '"./monitoring"'
  spring-monitoring-enabled: true

springdoc:
  show-spring-data-rest: false

logging:
  level:
    com:
      netflix:
        hystrix: DEBUG
      example: INFO
    org:
      hibernate:
        SQL: ERROR

ribbon:
  ConnectTimeout: 60000
  ReadTimeout: 60000
  maxAutoRetries: 0

management:
  endpoint:
    health:
      show-details: always
  endpoints:
    web:
      base-path: /management
  server:
    ssl:
      enabled: false

server:
  port: 8184
  forward-headers-strategy: native

keycloak:
  admin-client:
    enabled: true
  auth-server-url: https://keycloak.digiwave-tech.com
  client-id: sallahli-client
  credentials:
    secret: zOu7ia6cZifaY8DppzmxuqrajYXwDrfR
  realm: sallahli

spring:
  application:
    name: Backend

  data:
    rest:
      detection-strategy: annotated

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 100MB

  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        default_schema: public
        format_sql: true
        show_sql: true

  main:
    allow-bean-definition-overriding: true
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml

  security:
    authorized:
      uri:
        pattern: >
          /management/health,
          /management/health/liveness,
          /users/login,
          /users/gen-googleauth-otp,
          /*/*/signup,
          /*/me,/*/*/me,
          /users/check-code,
          /*/check-code,
          /*/*/check-code,
          /*/*/generate-code,
          /*/login-with-otp,
          /*/set-phone-number,
          */generate-code,
          /*/*/set-phone-number/**,
          /*/refresh-token,
          /*/exchange-token,
          /*/phone-verification.
          /*/send-otp,
          */send-otp,
          */reset-password,
          /categories/active,
          /*/update-names,
          /*/update-names,
          /*/*/update-names,
          /*/send-whatsapp-test,
    oauth2:
      client:
        provider:
          keycloak:
            token-uri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/token
        registration:
          keycloak:
            authorization-grant-type: client_credentials
            client-id: ${keycloak.client-id}
            client-secret: ${keycloak.credentials.secret}
      resourceserver:
        jwt:
          jwk-set-uri: ${keycloak.auth-server-url}/realms/${keycloak.realm}/protocol/openid-connect/certs


cloudflare:
  r2:
    account-id: b39f601600bd1cefe5c24853fcc05fd1
    bucket: media-marsadrive
    access-key: ec6cbd847216633e1dcc0dafb964b9ea
    secret-key: 9221a075cada17698bf5ee5775ea7225a959a9a3391f2563cd3be524b1ea5195
    endpoint: https://b39f601600bd1cefe5c24853fcc05fd1.r2.cloudflarestorage.com
    public-url-base: https://media.marsadrive.com
    presign-expiry-seconds: 3600

media-config:
  mediaConfig:
    token: _fsIIKt-msLB5S_HWIxtzpliNftMMHbF_BtHMdld
    type: CDN
    url: https://api.cloudflare.com/client/v4/accounts/250f855b13c83efc667e154dec28a5ed/images/v1
    folder: pro

whatsapp:
  bearer-token: 836ca2abdd06da7171841fccbccc7cb1adec092d3c44a8965db60208ce00ffe5
  default-country-code: "222"

# ============================================================================
# Push Notification Configuration
# ============================================================================

# Apple Push Notification Service (APNs) - for iOS
apns:
  production: ${APNS_PRODUCTION:true}
  team-id: ${APNS_TEAM_ID:J25B6JQ586}
  key-id: ${APNS_KEY_ID:79J5LGW8C3}
  p8-file-base64: ${APNS_P8_BASE64:LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR1RBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJIa3dkd0lCQVFRZ0htaWRubENycUlGVmpQVHUKTjRwNFV0c0FHQjJEdSs2SFN5cmpSZUpNdkVTZ0NnWUlLb1pJemowREFRZWhSQU5DQUFRZHpGa2o5KzBiSEdoSwpZQThHa2ZpcGdPeGVSQVEyRnpKSXhTaFBQWlRtNjNWNWtZcG9UY3RlM3I5UWI4TkNyVTA1UVFRQzN1TEFHYmhnClpZL3ZjcG1ICi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0=}
  client-bundle: ${APNS_CLIENT_BUNDLE:com.sallahli.client.stg}
  pro-bundle: ${APNS_PRO_BUNDLE:com.sallahli.pro.stg}

# Firebase Cloud Messaging (FCM) - for Android and Web
fcm:
  firebase-configuration-content-base64: ${FCM_CONFIG_BASE64:ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAic2FsbGFobGktYXBwIiwKICAicHJpdmF0ZV9rZXlfaWQiOiAiMWMwMmQ1YTQ4YzU1ZTkwMmI4OTA4MzJlMzU4MTYzMjM1ZDA5NDQ4YiIsCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZnSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2d3Z2dTa0FnRUFBb0lCQVFDN3VZNk1sUmwvTVBxcVxuaDNjcmp6WUJUVHZ2UlI4bHhDbUNZbkV2Q1dOWXFVdEtsc1B4bUlVYndZSEFxb1RuNmoySFgzazI4RDJ1OEp5Z1xucTZGUW8vVHRhMk5Sa2xONW9MdjJMMmV2bC9zd1U0NEp6T05NME5SUUpXWUpYT3ZrVmczRmE3SlU1TDI0ZnRDZlxuK3NXUnFqTnJyTmJSOGFIMEErOG50bUdLdTZKQkFPZzRjL3B2U1Y4TnY1S1RWMnlodGxDUFpXblE1TFlLcXo2K1xuK0JYa0tiK1FpYUNIekVLQ2tXWUFBUTJTL3NnanlPc21pVGxzT1Nma3Z6R3d6bzAxTFFicXRiMk96K2thazVKOFxuQ2lsL1prR0Y3NXFwbndONmFHYWNOTlBMby9ocmZ3U0dOSTV2YlMyMnA0aEcyOGRDb1dLTkJPTDd6WG9jN1MyeFxuWElEajdiK0ZBZ01CQUFFQ2dnRUFCUUxqbE1vb0o1YVJvbnJDU2lYbERhelhwRUFHb0ZYM3U3VFFDNjdtK1lkdlxuYkpyUXVVTFdqdEtnR1pvVHVUTXVHRTZLcUZaS2QwQ1NGZEh2R1AxL2ZOVUlqalZuU0JCcjVCc0kzQTJsRlhtdFxuaVlKd01PMUVOYTJCNTA4Vk52KzdGMkdVSGFNTGs0RERKZm9tU3dpdG5icTc4MWZOZUh1Z1owRjlvaHYzTFdBQ1xuazhLT0pzbWVJcHd2YUgrajQ3TTdoUjV2ZjA5RHd4SUNHZldjM1cybGVqcm9aZ0QzbTA4M3JHazFOd05VMktXM1xuWE90OSthcFdXS2JCMFVFTUNGOHBwVmhSOWMrK1hva3NtM0JhaFl5THZNaEI5UFRXNlNWNi9BMHYyZVJGWXRoTFxuSkdLSGtpUkxVMW5VN2FpTVV3ZXlyOHF0Q1FLMjdNOHhXNWxBTHdUWWdRS0JnUUR1d2JmUnVqNHZZTDB4eGhWUFxudnltNXptOVdMTTVJazVrZmE0OWo0c3puSWUrcEoxeXVDa3ZBZzlpR1JhUmFhT3p4MFRybDdJU0trY2NIbnJpbFxuTkV0VzJGQ3BJMGp6WHJZV2piTjR6b2F0R1psYkcrTFVWR2ZMSmYyYW1QQlE5VVZydjExQ1BnZXpsSEVjbU1LalxuWHpmaVR4SEFjVjlXbzEvQ1Z1WlI0em5Rd1FLQmdRREpTRlJzL2ZMVmdUWGgrMnJocFVzVE9pQitwTWZwa3pNRlxuVzMreHg2S0MyVGZEQVIrRnkreUpGQ01GMTlodjdZMTN2WU1xYmxIcU9JcktBVWNhZjVLWVhaeTJkVi9kTHQ5S1xuMGxLWlN2SkVqYk5IRHVZZ1h4WUdiQ3JNd2dML0JabUVNUXkyc2I3UWw0dFNxTlYzVzFNQ0NUZ0I0ZVhGVHo4Y1xuRXdtMnJwdmJ4UUtCZ0J2R1hXUUFqb3RrYlo0RXRTWDV6eGpXY3cxTFdSUUlWNS9ZRzI0N1RDcjNQN0lsNmhvMVxuQ0dyMDY1TnpOcE50OFdLUVBKSFMyZmhrelFxTjVGMFRvRkFTQ2hBakVyRjlLeUdraW1SYllqOXc0dTQrYUR6YlxuTk5mbEs0TjRsenhUekNla3MyeXBXcXdCY01jcTNqbXpNZ1VadmE3dGdYSEt2N0VUK3VjN3o5WUJBb0dCQUlFeFxuaE1jRVpPWTNiaTlqWWFIOXAyZHE2c3ArMTdZTGZqY1ZHS3d5ZUJQR2VxMFd2blh4Z3h3bEthbXBka201VHhFcFxuT2RSMVJPeXlhQnJxb1FuWUVtN3J2eGU1MU5NeUw2NWx1eENiYzA4ZktKQVdkdzBXR3h2Nk42cC9hTTdwZURUS1xuQ3VBRXpIWTBudjlxVU1Hd2cySU9LcjNDa2VtSVNQaXJHNVAvRlJrRkFvR0JBT0dIazN1SDI3bVVKbWFHcmFLZlxucDRDdlJXUVFQSGJFUGRMU25DUmtxbGZCUW5uZTUzMVRGYnNWazdlVFR1bnJqeUN3M0ErZE5Rei81SnRvNXdsc1xuWU9BOUtFSnFuWjRGSnlDYk8rTUxKQitQM2dHNXYvd2xuaVRBT3BoOXU3dUNuWjVZVWQ5OWFvaDhUMTFBVzJEOFxuNlRBNURIR2VQUkxuS2Q5QWVKaWhJNWpFXG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICJjbGllbnRfZW1haWwiOiAiZmlyZWJhc2UtYWRtaW5zZGstZmJzdmNAc2FsbGFobGktYXBwLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAiY2xpZW50X2lkIjogIjEwMDQ2MTg0MDA1MTgyODE4MDY5MCIsCiAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwKICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsCiAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvZmlyZWJhc2UtYWRtaW5zZGstZmJzdmMlNDBzYWxsYWhsaS1hcHAuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K}
  client-bundle: ${FCM_CLIENT_BUNDLE:com.sallahli.client.stg}
  pro-bundle: ${FCM_PRO_BUNDLE:com.sallahli.pro.stg}


